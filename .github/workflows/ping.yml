# 檔案：.github/workflows/keep-render-awake.yml
name: Keep Render Apps Awake

on:
  workflow_dispatch:
  schedule:
    - cron: '0,10,20,30,40,50 * * * *'  # UTC 每小時 的 00/10/20/30/40/50 分

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Render services
        run: |
          urls=(
            "https://little-chapter-backend.onrender.com/"
            "https://projectfrontend-serverside.onrender.com/index"
          )

          for url in "${urls[@]}"; do
            echo "Calling $url at $(date -u +"%Y-%m-%d %H:%M:%S") UTC"
            status=$(curl -s -o /dev/null -w "%{http_code}" "$url")
            echo "→ HTTP Status for $url: $status"
          done
