name: Keep Render Apps Awake

on:
  workflow_dispatch:        # 👉 可手動執行一次驗證
  schedule:
    - cron: '*/10 * * * *'  # 每 10 分鐘執行一次（24 hr）

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Call Render backends and show HTTP status
        run: |
          # 要喚醒的網址清單
          urls=(
            "https://little-chapter-backend.onrender.com/"
            "https://your-second-service.onrender.com/"   # ← 改成你的第二支服務
          )

          for url in "${urls[@]}"; do
            echo "Calling $url at $(date -u)"
            status=$(curl -s -o /dev/null -w "%{http_code}" "$url")
            echo "HTTP Status for $url: $status"
          done
